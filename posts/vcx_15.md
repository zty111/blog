---
title: '图形流水线'
date: '2022-11-04'
---

输入是三维点，输出是图像
1. 顶点处理，输入模型，视角，变换等
2. 三角网格处理
3. 光栅化，在屏幕中画出三角形
4. 拆分处理，计算Z-buffer，遮挡关系和光照，加入纹理
5. 帧处理，输出

有N个三角形和M个光源
1. 暴力处理，$O(N*M)$
2. early-Z，用现在的z-buffer来觉得是否计算光照，最坏情况没有改善！
3. Z-prepass，用提前计算好的Z-buffer，$O(N+M)$，需要计算两次，高CPU占用
4. deferred rendering，转换为显示时用的G-Buffer，$O(N+M)$，高带宽


