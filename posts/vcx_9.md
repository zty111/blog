---
title: '几何表示'
date: '2022-11-04'
theme: 'vcx'
---
几何学：
- 研究形状、大小、图案、位置
- 研究可以被测量的量（长度、角度）

几何形体在计算机中的表示：
- 明确的：点云、三角网格、细分曲面
- 含蓄的：水平集、代数曲面

点云：
由激光雷达等生成，得到的点均匀分布在物体表面，表达形式简单

三角网格：
- 存储点和三角形
- 是图形学中最常用的表示方式
- 易处理、模仿和自适应取样
- 使用更复杂的数据结构

存储方式：存所有点的坐标和三角形按顺时针/逆时针顺序顶点标号）

欧拉公式： $u-e+f=2$可以算出面数

好处：
- 顶点信息只存一次，减小存储开销
- 保证网格的整体性（改变一个点所有相关三角形都改变）

其他存储数据结构：三角形带

三角形表示的优缺点
- 优点：简单、快速地渲染和处理
- 缺点：需要更多的平面来表示光滑曲面

四边形网格：规律性好，易于存储，容易参数化，用于纹理映射

细分曲面：对四边形网格递归进行双三次B样条插值，最终形成光滑曲面

Catmull-Clark细分曲面
- 加入边点 $f=\frac{v_1+v_2+v_3+v_4}{4}$
- 加入面点 $e=\frac{v_1+v_2+f_1+f_2}{4}$
- 更新顶点，m为原相邻顶点的中点，p为原顶点 $v=\frac{f_1+f_2+f_3+f_4+2(m_1+m_2+m_3+m_4)+4p}{16}$

Loop细分曲面
- 将每个三角形等分成四个
- 只在一个三角形边12上的中点 $m=\frac{v_1+v_2}{2}$
- 两个三角形公共边12上的中点 $m=\frac{3v_1+3v_2+v_3+v_4}{8}$
- 原顶点更新，度数为n， $n=3$时周围点权重为 $u=\frac{3}{16}$，否则为 $\frac{3}{8n}$，原顶点权重为 $1-n*u$

网格参数化
- 三维->二维： $x(\theta,\phi)=Rcos\theta cos\phi \\ y(\theta,\phi)=Rcos\theta sin\phi \\ z(\theta,\phi)=Rsin\theta$
- 平面参数化
- 球面参数化
- 基数参数化

平面参数化：
弹簧系统，构建一个三维到二维的线性映射，使得映射后的图形弹力最小（能量最小化）
$E=\frac{1}{2}\sum_{i=1}^n\sum_{j\in N_i}\frac{1}{2}D_{ij}||t_i-t_j||^2$

E关于t梯度=0得到 $\lambda_{ij}=\frac{D_{ij}}{\sum_{k\in N_i}D_{ik}}$

$\lambda$求法：
边ij，邻角为 $a_{ij},b_{ji}$，对角为 $c_{ij},c_{ji}$则
- $\lambda_{ij}=(\tan{\frac{a_{ij}}{2}+\tan{\frac{b_{ij}}{2}}})/r_{ij}$
- $\lambda_{ij}=(\cot{c_{ij}}+\cot{c_{ji}})/2$

线性关系 $t_i-\sum_{j\in N_i}\lambda_{ij}t_j=0\Rightarrow At=0$
